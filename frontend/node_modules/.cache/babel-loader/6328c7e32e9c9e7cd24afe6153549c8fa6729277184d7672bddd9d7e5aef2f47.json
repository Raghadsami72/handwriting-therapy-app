{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\HandwritingTherapyApp\\\\frontend\\\\src\\\\Pages\\\\TherapyPage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/TherapyPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CanvasDrawing from \"../components/CanvasDrawing\";\nimport AnimatedTherapyScene from \"../Animations/AnimatedTherapyScene\";\nimport * as imported from \"../agents/tracking_agent/TherapySessionAgent.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TherapySessionAgent = imported.default;\nconst motivationalQuotes = {\n  en: [\"You're doing amazing!\", \"Keep going, one step at a time ðŸŒ±\", \"Progress is power âœ¨\", \"Youâ€™re stronger than you think ðŸ’ª\"],\n  ar: [\"Ø£Ù†Øª ØªÙ‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!\", \"Ø§Ø³ØªÙ…Ø±ØŒ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© ðŸŒ±\", \"Ø§Ù„ØªÙ‚Ø¯Ù… Ù‡Ùˆ Ø§Ù„Ù‚ÙˆØ© âœ¨\", \"Ø£Ù†Øª Ø£Ù‚ÙˆÙ‰ Ù…Ù…Ø§ ØªØ¸Ù† ðŸ’ª\"]\n};\nfunction TherapyPage({\n  mcp,\n  patientName\n}) {\n  _s();\n  const [quote, setQuote] = useState(\"\");\n  const [language, setLanguage] = useState(\"en\");\n  const [feedback, setFeedback] = useState(\"Draw carefully and take your time.\");\n  const [sessionManager] = useState(() => new TherapySessionAgent(patientName, mcp));\n  const [feedbackVisible, setFeedbackVisible] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const lang = localStorage.getItem(\"language\") || \"en\";\n    setLanguage(lang);\n    rotateQuote(lang);\n  }, []);\n  useEffect(() => {\n    if (mcp !== null && mcp !== void 0 && mcp.startSession) {\n      mcp.startSession(patientName); // ðŸ’¡ make sure to start with correct name\n    }\n  }, [mcp, patientName]);\n  const rotateQuote = lang => {\n    const quotes = motivationalQuotes[lang];\n    const interval = setInterval(() => {\n      const random = Math.floor(Math.random() * quotes.length);\n      setQuote(quotes[random]);\n    }, 5000);\n    return () => clearInterval(interval);\n  };\n  const handleNextDigit = async () => {\n    if (sessionManager.isSessionFinished()) {\n      const sessionSummary = await sessionManager.endSession(); // ðŸ”¥ Now it properly ends the session\n\n      const cleanedSummary = {\n        ...sessionSummary,\n        attempts: sessionSummary.attempts.map(({\n          drawingDataURL,\n          strokes,\n          ...rest\n        }) => ({\n          ...rest\n        })),\n        metrics: sessionSummary.metrics,\n        // keep only essential keys\n        fatigueInfo: sessionSummary.fatigueInfo,\n        digitAccuracy: sessionSummary.digitAccuracy,\n        sessionId: sessionSummary.sessionId,\n        patientName: sessionSummary.patientName\n      };\n      localStorage.setItem(\"lastSessionResults\", JSON.stringify(cleanedSummary));\n      navigate(\"/results\", {\n        state: {\n          sessionData: sessionSummary,\n          mcp\n        }\n      });\n    } else {\n      sessionManager.goToNextDigit();\n      setFeedback(\"Great! Let's try the next one.\");\n    }\n  };\n  const playFeedbackAudio = () => {\n    const utterance = new SpeechSynthesisUtterance(feedback);\n    utterance.lang = language === \"ar\" ? \"ar-SA\" : \"en-US\";\n    window.speechSynthesis.speak(utterance);\n  };\n\n  // ðŸ› ï¸ Debug metrics and strokes every 5 seconds\n  useEffect(() => {\n    console.log(\"ðŸ”¥ MCP inside TherapyPage:\", mcp);\n    window.__MCP__ = mcp; // Optional: global for console testing\n\n    const interval = setInterval(() => {\n      const attempts = JSON.parse(localStorage.getItem(\"attempts\") || \"[]\");\n      console.log(\"ðŸ§  [Therapy] Attempts so far:\", attempts);\n      if (mcp !== null && mcp !== void 0 && mcp.getMetrics) {\n        const metrics = mcp.getMetrics();\n        console.log(\"ðŸ“Š [Therapy] MCP Metrics Snapshot:\", metrics);\n      }\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [mcp]);\n  return /*#__PURE__*/_jsxDEV(AnimatedTherapyScene, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 text-center bg-white/50 px-6 py-2 rounded-full text-sm font-medium text-gray-700 animate-pulse shadow-sm border border-white\",\n      children: quote\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl mt-20 mb-2 text-gray-800 font-semibold\",\n      children: language === \"en\" ? `Draw the number: ${sessionManager.getCurrentDigit()}` : `Ø§Ø±Ø³Ù… Ø§Ù„Ø±Ù‚Ù…: ${sessionManager.getCurrentDigit()}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CanvasDrawing, {\n      mcp: mcp,\n      patientName: patientName,\n      currentDigit: sessionManager.getCurrentDigit(),\n      onComplete: handleNextDigit,\n      sessionManager: sessionManager\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute left-8 top-[200px] bg-white/60 backdrop-blur-sm p-4 rounded-xl shadow-md max-w-xs animate-float\",\n      children: [\"\\uD83E\\uDDE0 \", feedback]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-xl mt-8 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-200 h-4 rounded-full overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-400 h-full transition-all duration-500\",\n          style: {\n            width: `${(sessionManager.currentIndex + 1) / sessionManager.digits.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-sm mt-1 text-gray-600\",\n        children: [sessionManager.currentIndex + 1, \"/\", sessionManager.digits.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: playFeedbackAudio,\n      className: \"mt-2 bg-pink-200 hover:bg-pink-300 text-pink-800 font-semibold px-4 py-2 rounded-full shadow-md transition\",\n      children: \"\\uD83D\\uDD0A Hear Therapist Feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-0 w-full h-32 pointer-events-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/CoralFlower.png\",\n        alt: \"\",\n        className: \"absolute left-4 bottom-4 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/OrangeFlower.png\",\n        alt: \"\",\n        className: \"absolute left-20 bottom-5 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/PinkFlower.png\",\n        alt: \"\",\n        className: \"absolute left-36 bottom-6 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/BlueFlower.png\",\n        alt: \"\",\n        className: \"absolute right-20 bottom-5 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/PurpleFlower.png\",\n        alt: \"\",\n        className: \"absolute right-10 bottom-4 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/flowers/YellowFlower.png\",\n        alt: \"\",\n        className: \"absolute left-1/2 bottom-6 w-10 h-10 animate-float-soft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/bird/BirdWalk.gif\",\n        alt: \"Bird\",\n        className: \"absolute bottom-0 left-1/4 w-16 h-16 animate-wiggle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(TherapyPage, \"1m/KHPOjoK4IRktNaxDK2XMMuLs=\", false, function () {\n  return [useNavigate];\n});\n_c = TherapyPage;\nexport default TherapyPage;\nvar _c;\n$RefreshReg$(_c, \"TherapyPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","CanvasDrawing","AnimatedTherapyScene","imported","jsxDEV","_jsxDEV","TherapySessionAgent","default","motivationalQuotes","en","ar","TherapyPage","mcp","patientName","_s","quote","setQuote","language","setLanguage","feedback","setFeedback","sessionManager","feedbackVisible","setFeedbackVisible","navigate","lang","localStorage","getItem","rotateQuote","startSession","quotes","interval","setInterval","random","Math","floor","length","clearInterval","handleNextDigit","isSessionFinished","sessionSummary","endSession","cleanedSummary","attempts","map","drawingDataURL","strokes","rest","metrics","fatigueInfo","digitAccuracy","sessionId","setItem","JSON","stringify","state","sessionData","goToNextDigit","playFeedbackAudio","utterance","SpeechSynthesisUtterance","window","speechSynthesis","speak","console","log","__MCP__","parse","getMetrics","children","className","fileName","_jsxFileName","lineNumber","columnNumber","getCurrentDigit","currentDigit","onComplete","style","width","currentIndex","digits","onClick","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/HandwritingTherapyApp/frontend/src/Pages/TherapyPage.jsx"],"sourcesContent":["// frontend/src/pages/TherapyPage.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CanvasDrawing from \"../components/CanvasDrawing\";\r\nimport AnimatedTherapyScene from \"../Animations/AnimatedTherapyScene\";\r\nimport * as imported from \"../agents/tracking_agent/TherapySessionAgent.js\";\r\n\r\nconst TherapySessionAgent = imported.default;\r\n\r\nconst motivationalQuotes = {\r\n  en: [\r\n    \"You're doing amazing!\",\r\n    \"Keep going, one step at a time ðŸŒ±\",\r\n    \"Progress is power âœ¨\",\r\n    \"Youâ€™re stronger than you think ðŸ’ª\",\r\n  ],\r\n  ar: [\r\n    \"Ø£Ù†Øª ØªÙ‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!\",\r\n    \"Ø§Ø³ØªÙ…Ø±ØŒ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© ðŸŒ±\",\r\n    \"Ø§Ù„ØªÙ‚Ø¯Ù… Ù‡Ùˆ Ø§Ù„Ù‚ÙˆØ© âœ¨\",\r\n    \"Ø£Ù†Øª Ø£Ù‚ÙˆÙ‰ Ù…Ù…Ø§ ØªØ¸Ù† ðŸ’ª\",\r\n  ],\r\n};\r\n\r\nfunction TherapyPage({ mcp, patientName }) {\r\n  const [quote, setQuote] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"en\");\r\n  const [feedback, setFeedback] = useState(\"Draw carefully and take your time.\");\r\n  const [sessionManager] = useState(() => new TherapySessionAgent(patientName, mcp));\r\n  const [feedbackVisible, setFeedbackVisible] = useState(false);\r\n\r\n\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const lang = localStorage.getItem(\"language\") || \"en\";\r\n    setLanguage(lang);\r\n    rotateQuote(lang);\r\n  }, []);\r\n  useEffect(() => {\r\n  if (mcp?.startSession) {\r\n    mcp.startSession(patientName); // ðŸ’¡ make sure to start with correct name\r\n  }\r\n}, [mcp, patientName]);\r\n\r\n\r\n  const rotateQuote = (lang) => {\r\n    const quotes = motivationalQuotes[lang];\r\n    const interval = setInterval(() => {\r\n      const random = Math.floor(Math.random() * quotes.length);\r\n      setQuote(quotes[random]);\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  };\r\n\r\n const handleNextDigit = async () => {\r\n  if (sessionManager.isSessionFinished()) {\r\n    const sessionSummary = await sessionManager.endSession();  // ðŸ”¥ Now it properly ends the session\r\n\r\nconst cleanedSummary = {\r\n  ...sessionSummary,\r\n  attempts: sessionSummary.attempts.map(({ drawingDataURL, strokes, ...rest }) => ({\r\n    ...rest\r\n  })),\r\n  metrics: sessionSummary.metrics, // keep only essential keys\r\n  fatigueInfo: sessionSummary.fatigueInfo,\r\n  digitAccuracy: sessionSummary.digitAccuracy,\r\n  sessionId: sessionSummary.sessionId,\r\n  patientName: sessionSummary.patientName\r\n};\r\n\r\nlocalStorage.setItem(\"lastSessionResults\", JSON.stringify(cleanedSummary));\r\n\r\n\r\n    navigate(\"/results\", {\r\n      state: { sessionData: sessionSummary, mcp },\r\n    });\r\n  } else {\r\n    sessionManager.goToNextDigit();\r\n    setFeedback(\"Great! Let's try the next one.\");\r\n  }\r\n};\r\n\r\n\r\n  const playFeedbackAudio = () => {\r\n    const utterance = new SpeechSynthesisUtterance(feedback);\r\n    utterance.lang = language === \"ar\" ? \"ar-SA\" : \"en-US\";\r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  // ðŸ› ï¸ Debug metrics and strokes every 5 seconds\r\n  useEffect(() => {\r\n    console.log(\"ðŸ”¥ MCP inside TherapyPage:\", mcp);\r\n    window.__MCP__ = mcp; // Optional: global for console testing\r\n\r\n    const interval = setInterval(() => {\r\n      const attempts = JSON.parse(localStorage.getItem(\"attempts\") || \"[]\");\r\n      console.log(\"ðŸ§  [Therapy] Attempts so far:\", attempts);\r\n\r\n      if (mcp?.getMetrics) {\r\n        const metrics = mcp.getMetrics();\r\n        console.log(\"ðŸ“Š [Therapy] MCP Metrics Snapshot:\", metrics);\r\n      }\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [mcp]);\r\n\r\n  return (\r\n    <AnimatedTherapyScene>\r\n      <div className=\"absolute top-4 text-center bg-white/50 px-6 py-2 rounded-full text-sm font-medium text-gray-700 animate-pulse shadow-sm border border-white\">\r\n        {quote}\r\n      </div>\r\n\r\n      <h2 className=\"text-2xl mt-20 mb-2 text-gray-800 font-semibold\">\r\n        {language === \"en\"\r\n          ? `Draw the number: ${sessionManager.getCurrentDigit()}`\r\n          : `Ø§Ø±Ø³Ù… Ø§Ù„Ø±Ù‚Ù…: ${sessionManager.getCurrentDigit()}`}\r\n      </h2>\r\n\r\n      <CanvasDrawing\r\n        mcp={mcp}\r\n        patientName={patientName}\r\n        currentDigit={sessionManager.getCurrentDigit()}\r\n        onComplete={handleNextDigit}\r\n        sessionManager={sessionManager}\r\n      />\r\n\r\n      <div className=\"absolute left-8 top-[200px] bg-white/60 backdrop-blur-sm p-4 rounded-xl shadow-md max-w-xs animate-float\">\r\n        ðŸ§  {feedback}\r\n      </div>\r\n\r\n      <div className=\"w-full max-w-xl mt-8 mb-2\">\r\n        <div className=\"bg-gray-200 h-4 rounded-full overflow-hidden\">\r\n          <div\r\n            className=\"bg-green-400 h-full transition-all duration-500\"\r\n            style={{\r\n              width: `${((sessionManager.currentIndex + 1) / sessionManager.digits.length) * 100}%`,\r\n            }}\r\n          ></div>\r\n        </div>\r\n        <p className=\"text-center text-sm mt-1 text-gray-600\">\r\n          {sessionManager.currentIndex + 1}/{sessionManager.digits.length}\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        onClick={playFeedbackAudio}\r\n        className=\"mt-2 bg-pink-200 hover:bg-pink-300 text-pink-800 font-semibold px-4 py-2 rounded-full shadow-md transition\"\r\n      >\r\n        ðŸ”Š Hear Therapist Feedback\r\n      </button>\r\n\r\n      <div className=\"absolute bottom-0 w-full h-32 pointer-events-none\">\r\n        <img src=\"/flowers/CoralFlower.png\" alt=\"\" className=\"absolute left-4 bottom-4 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/flowers/OrangeFlower.png\" alt=\"\" className=\"absolute left-20 bottom-5 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/flowers/PinkFlower.png\" alt=\"\" className=\"absolute left-36 bottom-6 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/flowers/BlueFlower.png\" alt=\"\" className=\"absolute right-20 bottom-5 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/flowers/PurpleFlower.png\" alt=\"\" className=\"absolute right-10 bottom-4 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/flowers/YellowFlower.png\" alt=\"\" className=\"absolute left-1/2 bottom-6 w-10 h-10 animate-float-soft\" />\r\n        <img src=\"/bird/BirdWalk.gif\" alt=\"Bird\" className=\"absolute bottom-0 left-1/4 w-16 h-16 animate-wiggle\" />\r\n      </div>\r\n    </AnimatedTherapyScene>\r\n  );\r\n}\r\n\r\nexport default TherapyPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}